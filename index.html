<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen"/>
  <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>Genautoo</title>
  <meta name="description" content="Genautoo: an automated installer for gentoo">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">Genautoo</h1>
    </header>
    <div id="container">
      <p class="tagline">Genautoo: an automated installer for gentoo</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/kakwa/genautoo/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/kakwa/genautoo/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/kakwa/genautoo" class="code">View Genautoo on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h1>Genautoo: an automated installer for gentoo</h1>

<p>The goal of Genautoo is to install automatically Gentoo/Linux by customizing a single file.</p>

<h2>License</h2>

<p>genautoo is released under the MIT Public License</p>

<h2>Why Genautoo?</h2>

<p>I'm not a big fan of redhat/fedora/centos but there is one thing I like in this environnement: the kickstart files.
One simple file permitting you to easily install and reinstall and rereinstall your system as you want.</p>

<p>Installing Gentoo is fun, but once you've done it several times, it doesn't learn you anything.
It's just a time consuming process, but for those who like the distro, it remains a necessary step. </p>

<p>In some cases, you may want to reinstall from scratch regularly. For example if you maintain some packages,
it's a crude way to check that your ebuilds still work (since gentoo is a rolling release, your ebuilds could easily break).</p>

<p>In other cases, you may want to install identical Gentoos on several computers.</p>

<p>Genautoo is a solution for these situations.</p>

<h2>Description</h2>

<p>Genautoo is two things:</p>

<ul>
<li><p>A script generating a custom install iso for gentoo: genautoo.sh</p></li>
<li><p>An installer: installer/install.sh (and its libs)</p></li>
</ul><h2>How do I use it?</h2>

<p>Just follow the steps:</p>

<ul>
<li><p>create your config file </p></li>
<li>
<p>run (as root, sorry):</p>

<p>./genautoo.sh -a amd64 -c  -o my_custom_install.iso</p>
</li>
<li><p>burn the iso/dd it on a usb stick</p></li>
<li><p>boot the shit</p></li>
<li><p>take a (long) coffee (several in fact)</p></li>
<li><p>restart your computer (don't forget to remove the install media) and VOILA!</p></li>
</ul><h2>Okay, but how do I create the config file?</h2>

<p>Just use vim :) </p>

<p>Humm, that's not helping? Okay. Creating the config file is simple, here is a simple example:</p>

<div class="highlight"><pre><span class="o">[</span>global<span class="o">]</span>
<span class="c">#some global parameters</span>

<span class="c">#mirror="http://mirror.ovh.net/gentoo-distfiles/"</span>
<span class="c">#proxy="http://myproxy.example.net:8080"</span>
<span class="nv">parallele_emerge</span><span class="o">=</span><span class="s2">"-j4"</span>
<span class="nv">root_password</span><span class="o">=</span><span class="s2">"changeme"</span>

<span class="o">[</span>network_install<span class="o">]</span>
<span class="c">#network configuration during the installation</span>
eth0 dhcp
<span class="c">#eth1 static 192.168.42.100/24</span>
<span class="c">#route eth1 default gw 192.168.42.254</span>
<span class="c">#dns 8.8.8.8</span>

<span class="o">[</span>network<span class="o">]</span>
<span class="c">#network configuration of the installed system</span>

<span class="c">#eth1 static 192.168.69.51/24</span>
<span class="c">#route eth1 default gw 192.168.69.1</span>
<span class="c">#dns 8.8.8.8</span>


<span class="o">[</span>partitionning<span class="o">]</span>
<span class="c">#partitions description</span>

<span class="c">#DISK     SIZE     FS          MOUNT_POINT</span>
/dev/sda   120M     ext4        /boot
/dev/sda   1G       reiserfs    /
/dev/sda   5G       ext4        /home
/dev/sda   5G       ext4        /usr
/dev/sda   1G       swap
/dev/sda   ALL      ext4        /var

<span class="o">[</span>make.conf<span class="o">]</span>
<span class="c">#lines ADDED to the make.conf</span>
<span class="nv">MAKEOPTS</span><span class="o">=</span><span class="s2">"-j8"</span>
<span class="nv">ACCEPT_LICENSE</span><span class="o">=</span><span class="s2">"*"</span>
<span class="nv">LINGUAS</span><span class="o">=</span><span class="s2">"en fr"</span>

<span class="o">[</span>packages<span class="o">]</span>
<span class="c">#list of the packages to install</span>

net-misc/dhcpcd
app-editors/vim
sys-process/htop
sys-kernel/gentoo-sources

<span class="o">[</span>pre_setup<span class="o">]</span>
<span class="c">#script executed before anything has started</span>

<span class="nb">echo</span> <span class="s2">"hello"</span>

<span class="o">[</span>pre_install_nochroot<span class="o">]</span>
<span class="c">#shell script executed just before the chrooting</span>

<span class="nb">echo</span> <span class="s2">"I"</span>

<span class="o">[</span>pre_install_chroot<span class="o">]</span>
<span class="c">#shell script executed just after the chrooting</span>

<span class="nb">echo</span> <span class="s2">"am"</span>

<span class="o">[</span>post_install_chroot<span class="o">]</span>
<span class="c">#shell script executed after the installation inside the chroot</span>

<span class="nb">echo</span> <span class="s2">"genautoo"</span>

<span class="o">[</span>post_install_nochroot<span class="o">]</span>
<span class="c">#shell script executed after the installation outside the chroot</span>

<span class="nb">echo</span> <span class="s2">"installer"</span>
</pre></div>

<p>The order of the section doesn't matter, and you can split a section, for example:</p>

<div class="highlight"><pre><span class="o">[</span>global<span class="o">]</span>
<span class="c">#some global parameters</span>

<span class="o">[</span>partitionning<span class="o">]</span>
<span class="c">#partitions description</span>

<span class="c">#DISK     SIZE     FS          MOUNT_POINT</span>
/dev/sda   120M     ext4        /boot
/dev/sda   1G       reiserfs    /

<span class="o">[</span>global<span class="o">]</span>
<span class="c">#rest of the global parameters</span>
</pre></div>

<p>Any way, there are some examples in the examples directory.</p>

<h2>How does the installer work?</h2>

<p>It's simply a bunch of bourne shell scripts that use the config file to do what they have to do.</p>

<p>More explanations coming soon...</p>

<h2>How does genautoo.sh work?</h2>

<p>Just take a look at the help:</p>

<pre><code>./genautoo.sh -h
</code></pre>

<p>Without optional arguments, it takes the installer, the config file, it downloads the latest debian (hehehe) businesscard iso of the specified arch, and it builds a custom iso</p>

<p>More explanations coming soon...</p>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/kakwa" class="avatar"><img src="https://secure.gravatar.com/avatar/bf9868bd766533e965b2eb1ed2d4ef76?s=30&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="48" height="48"/></a> <a href="https://github.com/kakwa">kakwa</a> maintains <a href="https://github.com/kakwa/genautoo">Genautoo</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br/>theme by <a href="http://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/kakwa/genautoo/tarball/master" class="tar">tar</a><a href="https://github.com/kakwa/genautoo/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
